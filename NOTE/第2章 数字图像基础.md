# 第2章 数字图像基础

## 2.1 人类视觉系统的机理

### 2.1.1 人眼的结构

* 人眼被三层膜包裹着：**角膜**（cornea，透明）与**巩膜**（sclera，不透明）外壳、**脉络膜**（choroid，滋养源，血管多，给眼部细胞提供营养）和**视网膜**（retina）

<img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午4.14.10.png" alt="截屏2020-09-27 下午4.14.10" style="zoom:50%;" />

* 光进入眼睛会经过哪些部位？

  * 角膜 -> 瞳孔 -> 晶状体 -> 玻璃体 -> 视网膜

* **光感细胞**

  * **锥状体**
    * 位于视网膜中央位置 -> 中央凹
    * 对颜色敏感（有三种，分别对红、绿、蓝三种色光敏感）
    * 白昼视觉/亮视觉
    * 每个锥状体末端连接到自身的神经末梢，将信号传递至大脑形成视觉
    * 肌肉控制眼球转动直到感兴趣的东西落在中央凹上
  * **杆状体**
    * 分布在视网膜表面
    * 对光照敏感、没有颜色感觉
    * 微光视觉/暗视觉

  ### 2.1.2 眼睛中图像的形成

  * 相机成像：通过改变镜头和胶片之间的距离来调整聚焦的距离
  * 人眼成像：
    * 晶状体 -> 镜头 视网膜 -> 胶片 
    * 但晶状体和视网膜之间的距离不能改变，眼睛是通过改变晶状体的形状来改变焦距的
      * 近距离：加厚晶状体
      * 远距离：拉薄晶状体

  <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午4.48.27.png" alt="截屏2020-09-27 下午4.48.27" style="zoom:50%;" />

### 2.1.3 亮度适应和辨别

* **主观亮度**：人的视觉系统感知的亮度 -> 进入人眼的光强的对数函数
* **亮度适应现象**：视觉系统不能同时在一个**范围内**工作，即它是通过改变其整个灵敏度来完成这一较大变动的，眼睛可以同时辨别的不同强度级别的总范围与眼睛整个的适应范围相比是很小的。
* 亮度适应级别：对于给定的条件集合，视觉系统当前的灵敏度级别
* **同时对比现象**：人眼感知区域的亮度并不简单取决于其强度
  * 例如下面这幅图，其实每一条整体的颜色是一样的，但你看起来却是每条的左边界处比较亮，而右边边界处较暗

<img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午6.11.54.png" alt="截屏2020-09-27 下午6.11.54" style="zoom:50%;" />

<img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午6.25.25.png" alt="截屏2020-09-27 下午6.25.25" style="zoom:50%;" />

* 下面这张图片的A、B其实是同一个颜色，但是对比度骗了我们

<img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午6.29.48.png" alt="截屏2020-09-27 下午6.29.48" style="zoom:50%;" />

* 错觉：眼睛自动填充了一些不存在的信息或错误感知了物体的几何特点

  <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午6.28.29.png" alt="截屏2020-09-27 下午6.28.29" style="zoom:50%;" />

## 2.2 光、电磁波谱

* 波长和频率之间的关系：$\lambda=\frac{c}{\nu} $ 其中$c$是光速，$\nu$是频率
* 能量和频率之间的关系：$E=h\nu$ （$h$—普朗克常量）
* 可见光波段：0.43$\mu m$~0.79$\mu m$
* 彩色谱：六个主要区域：紫色、蓝色、绿色、黄色、橘黄色、红色，每种颜色不是突然终止的，而是混合平滑地过渡到另一种颜色
* 单色光：没有颜色只有强度/大小
* 灰度级/强度：描述单色光从黑到白的度量值
* 彩色光源的度量：
  * 发光强度（Radiance）：指的是发射端能量大小，单位是瓦特（Watts）
  * 光通量（Luminance）：接收端能量大小，单位是流明（lumens）
  * 亮度（Brightness）：主观感受，无法度量，单位无

## 2.3 图像感知和获取

* 单个传感器获取图像
* 条带传感器获取图像：扫描机
* 传感器阵列获取图像：照相机

## 2.4 图像的取样和量化

* 目的：将连续的感知数据转换为数字形式
* 取样：对坐标值进行数字化
* <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.28.48.png" alt="截屏2020-09-27 下午7.28.48" style="zoom:50%;" />
* 量化：对幅值数字化
* <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.29.31.png" alt="截屏2020-09-27 下午7.29.31" style="zoom:50%;" />
* 取样和量化的结果
* <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.32.08.png" alt="截屏2020-09-27 下午7.32.08" style="zoom:50%;" />

* 数字图像的表示方法：二维阵列$f(x,y)$，其中$x,y$是离散坐标（通常是整数），⚠️$f(1,2)$表示的是第一行的第二个样本，并不是对图像取样时的物理坐标值

  * 三维坐标系

    <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.43.59.png" alt="截屏2020-09-27 下午7.43.59" style="zoom:50%;" />

  * 二维灰度图

    <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.44.18.png" alt="截屏2020-09-27 下午7.44.18" style="zoom:50%;" />

  * 二维矩阵

    <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.44.35.png" alt="截屏2020-09-27 下午7.44.35" style="zoom:50%;" />

* **空间分辨率（spatial resolution）**：每单位距离线对数/每单位距离点数（像素数）

  * 关键：要有包含空间单位的规定，即如果单纯地描述一幅图片的分辨率是1024*1024像素是没有意义的（这1024个点放在$1cm^2$的区域和放在$1km^2$的区域显然是不一样的效果）
  * 这几幅图片的**空间分辨率**是一样的，但是**分辨率**却不同

  <img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午7.52.44.png" alt="截屏2020-09-27 下午7.52.44" style="zoom:50%;" />

* **灰度分辨率（intensity resolution）**：在灰度级中可以分辨的最小变化，用于量化灰度的比特数（🌰一副被量化为256级的图像具有8比特的灰度分辨率）

<img src="/Users/kerrzhang/Documents/screenShot/截屏2020-09-27 下午8.02.54.png" alt="截屏2020-09-27 下午8.02.54" style="zoom:50%;" />

* **图像内插**：

  * 应用范围：图像的放大、缩小、旋转、几何校正

  * 分类：

    * 最近邻内插法：将图片原本的网格换成你要转换的像素的网格（例如：将500\*500的网格换成750\*750的网格）；然后每个新格子的颜色规定为离它最近的颜色
      * 优点：计算简单
      * 缺点：边缘失真

    <img src="/Users/kerrzhang/Documents/screenShot/IMG_DD47F2CE4100-1.jpeg" alt="IMG_DD47F2CE4100-1" style="zoom:50%;" />		

    * 双线性内插法：第一步一样；第二步赋值是根据此公式得到：$v(x,y)=ax+by+cxy+d$；式中的系数$a,b,c,d$则是由4个最近邻点写出的方程得到的
      * 优点：效果好
      * 缺点：计算量增加
    * 双三次内插法：赋值函数$\nu(x,y)=\sum^3_{i=0}\sum^3_{j=0}a_{ij}x^iy^j$;16个系数用16个最近邻点写出的未知方程确定
      * 优点：效果比双线性内插相对较好，是商业图像编辑程序的标准内插方法
      * 缺点：计算量更大

## 2.5 像素间的基本关系

### 2.5.1 相邻像素

* **4邻域**：$(x,y)$的像素p的4个水平和垂直的相邻像素：$(x+1,y)(x-1,y)(x,y+1)(x,y-1)$，记为$N_4(p)$
* **4对角邻域**：$(x+1,y+1)(x+1,y-1)(x-1,y+1)(x-1,y-1)$，记为$N_D(p)$
* **8邻域**：4对角邻域+4邻域，记为$N_8(p)$



